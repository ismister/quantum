import telebot
import config
import random
import re
from Parse_converter import get_url
from telebot import types

bot = telebot.TeleBot(config.TOKEN)
dict_1 = '''–î–µ–∫–æ–≥–µ—Ä–µÃÅ–Ω—Ü–∏—è ‚Äî —ç—Ç–æ –ø—Ä–æ—Ü–µ—Å—Å –Ω–∞—Ä—É—à–µ–Ω–∏—è –∫–æ–≥–µ—Ä–µ–Ω—Ç–Ω–æ—Å—Ç–∏ (–æ—Ç –ª–∞—Ç. cohaerentio ‚Äî —Å—Ü–µ–ø–ª–µ–Ω–∏–µ, —Å–≤—è–∑—å), –≤—ã–∑—ã–≤–∞–µ–º—ã–π –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ–º –∫–≤–∞–Ω—Ç–æ–≤–æ–º–µ—Ö–∞–Ω–∏—á–µ—Å–∫–æ–π —Å–∏—Å—Ç–µ–º—ã —Å –æ–∫—Ä—É–∂–∞—é—â–µ–π —Å—Ä–µ–¥–æ–π –ø–æ—Å—Ä–µ–¥—Å—Ç–≤–æ–º –Ω–µ–æ–±—Ä–∞—Ç–∏–º–æ–≥–æ —Å —Ç–æ—á–∫–∏ –∑—Ä–µ–Ω–∏—è —Ç–µ—Ä–º–æ–¥–∏–Ω–∞–º–∏–∫–∏ –ø—Ä–æ—Ü–µ—Å—Å–∞. –ü—Ä–æ—â–µ –≥–æ–≤–æ—Ä—è, —ç—Ç–æ –Ω–∞—Ä—É—à–µ–Ω–∏–µ –∏–∑–æ–ª—è—Ü–∏–∏ —Å–∏—Å—Ç–µ–º—ã - –∫–æ–Ω—Ç–∞–∫—Ç —Å –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª–µ–º.\n
–¢–µ–æ—Ä–∏—è –•—å—é –≠–≤–µ—Ä–µ—Ç—Ç–∞ - –ö–æ–Ω—Ü–µ–ø—Ü–∏—è –æ —Ä–∞—Å—â–µ–ø–ª–µ–Ω–∏–∏ –∏ –≤–µ—Ç–≤–ª–µ–Ω–∏–∏ –º–∏—Ä–æ–≤ –∑–∞–∫–ª—é—á–∞–µ—Ç—Å—è –≤ —Å–ª–µ–¥—É—é—â–µ–º: –ø—Ä–∏ –ª—é–±–æ–º –∞–∫—Ç–µ –∏–∑–º–µ—Ä–µ–Ω–∏—è —Ä–µ–∞–ª—å–Ω–æ –æ—Å—É—â–µ—Å—Ç–≤–ª—è—é—Ç—Å—è, —Å —Ç–æ–π –∏–ª–∏ –∏–Ω–æ–π –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å—é, –≤—Å–µ –≤–æ–∑–º–æ–∂–Ω—ã–µ –∏—Å—Ö–æ–¥—ã —ç—Ç–æ–≥–æ –∏–∑–º–µ—Ä–µ–Ω–∏—è. –ù–æ –∫–∞–∂–¥—ã–π –≤–∞—Ä–∏–∞–Ω—Ç –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è –≤ ¬´—Å–≤–æ–µ–π –≤—Å–µ–ª–µ–Ω–Ω–æ–π¬ª, –æ—Ç–ª–∏—á–∞—é—â–µ–π—Å—è –æ—Ç –≤—Å–µ—Ö –ø—Ä–æ—á–∏—Ö –∏–º–µ–Ω–Ω–æ —ç—Ç–∏–º –∏—Å—Ö–æ–¥–æ–º, —Ç.–µ. —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –ø–∞–º—è—Ç–∏ –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—è, –≤–∏–¥—è—â–µ–≥–æ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–π –∏—Å—Ö–æ–¥ –∏–∑–º–µ—Ä–µ–Ω–∏—è. –†–µ–∞–ª—å–Ω–æ —Å—É—â–µ—Å—Ç–≤—É—é—Ç (—Ö–æ—Ç—è –∏ –Ω–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É—é—Ç –¥—Ä—É–≥ —Å –¥—Ä—É–≥–æ–º) –≤—Å–µ —Ä–µ—à–µ–Ω–∏—è –≤–æ–ª–Ω–æ–≤—ã—Ö —É—Ä–∞–≤–Ω–µ–Ω–∏–π –∏ –≤—Å–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã —Å–æ—Å—Ç–æ—è–Ω–∏—è –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—è-—á–µ–ª–æ–≤–µ–∫–∞, –æ—Ç–ª–∏—á–∞—é—â–∏–µ—Å—è –Ω–∞—Ö–æ–¥—è—â–∏–º—Å—è –≤ –µ–≥–æ –ø–∞–º—è—Ç–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º –∏–∑–º–µ—Ä–µ–Ω–∏—è. –ö–∞–∂–¥—ã–π –∏–∑ —ç—Ç–∏—Ö –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø–æ–¥—Å–∏—Å—Ç–µ–º—ã-–Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—è —è–≤–ª—è–µ—Ç—Å—è ¬´—Å–æ–æ—Ç–Ω–µ—Å—ë–Ω–Ω—ã–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º¬ª, —Å–≤—è–∑–∞–Ω–Ω—ã–º —Å —Ç–µ–º –∏–ª–∏ –∏–Ω—ã–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –Ω–∞–±–ª—é–¥–∞–µ–º–æ–π –ø–æ–¥—Å–∏—Å—Ç–µ–º—ã.\n
–ú–Ω–æ–≥–æ–º–∏—Ä–æ–≤–∞ÃÅ—è –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞ÃÅ—Ü–∏—è (–∞–Ω–≥–ª. many-worlds interpretation) –∏–ª–∏ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è –≠–≤–µ—Ä–µ—Ç—Ç–∞ ‚Äî –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è –∫–≤–∞–Ω—Ç–æ–≤–æ–π –º–µ—Ö–∞–Ω–∏–∫–∏, –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ—Ç —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ, –≤ –Ω–µ–∫–æ—Ç–æ—Ä–æ–º —Å–º—ã—Å–ª–µ, ¬´–ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö –≤—Å–µ–ª–µ–Ω–Ω—ã—Ö¬ª, –≤ –∫–∞–∂–¥–æ–π –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö –¥–µ–π—Å—Ç–≤—É—é—Ç –æ–¥–Ω–∏ –∏ —Ç–µ –∂–µ –∑–∞–∫–æ–Ω—ã –ø—Ä–∏—Ä–æ–¥—ã –∏ –∫–æ—Ç–æ—Ä—ã–º —Å–≤–æ–π—Å—Ç–≤–µ–Ω–Ω—ã –æ–¥–Ω–∏ –∏ —Ç–µ –∂–µ –º–∏—Ä–æ–≤—ã–µ –ø–æ—Å—Ç–æ—è–Ω–Ω—ã–µ, –Ω–æ –∫–æ—Ç–æ—Ä—ã–µ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Å–æ—Å—Ç–æ—è–Ω–∏—è—Ö.\n
'''


@bot.message_handler(commands=['start'])
def welcome(message):
    stick = open('Monkey_potty.mp4', 'rb')
    bot.send_video(message.chat.id, stick)

    markup = types.ReplyKeyboardMarkup(resize_keyboard=True)
    item1 = types.KeyboardButton("üé≤–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–≤–æ—é —É–¥–∞—á—Éüé≤")
    item2 = types.KeyboardButton("üìï–°–ª–æ–≤–∞—Ä—åüìï")

    markup.add(item1, item2)

    bot.send_message(message.chat.id, '–ü—Ä–∏–≤–µ—Ç, {0.first_name}!\n–¢—ã –º–æ–∂–µ—à—å –∑–∞–¥–∞—Ç—å —Å–≤–æ–π –≤–æ–ø—Ä–æ—Å –≤ —Ñ–æ—Ä–º–∞—Ç–µ "–ß—Ç–æ —Ç–∞–∫–æ–µ (–ª—é–±–æ–π —Ç–µ—Ä–º–∏–Ω)?"'.format(message.from_user),
                     parse_mode='html',
                     reply_markup=markup)


@bot.message_handler(content_types=['text'])
def lalala(message):
    global i1, dict_1
    if message.chat.type == 'private':
        if message.text == "üé≤–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–≤–æ—é —É–¥–∞—á—Éüé≤":
            life = random.choice([True, False])
            bot.send_message(message.chat.id, '–í—ã –≤—ã–∂–∏–ª–∏' if life else '–í—ã —É–º–µ—Ä–ª–∏')
        elif message.text == "üìï–°–ª–æ–≤–∞—Ä—åüìï":
            bot.send_message(message.chat.id, dict_1)
        elif re.findall(r'[–ß—á]—Ç–æ\s+?(–∑–Ω–∞—á–∏—Ç)|(—Ç–∞–∫–æ–µ)\s+?\w+', message.text):
            bot.send_message(message.chat.id, get_url(message.text + "wikipedia"))
        else:
            bot.send_message(message.chat.id, "–Ø –≤–∞—Å –Ω–µ –ø–æ–Ω—è–ª, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –∑–∞–¥–∞—Ç—å –≤–æ–ø—Ä–æ—Å –ø–æ-–¥—Ä—É–≥–æ–º—É")



bot.polling(none_stop=True)
